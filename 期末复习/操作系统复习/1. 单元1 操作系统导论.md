# 第一章 操作系统导论

---

## 重点

- 批处理系统的特点：无交互能力
  - 追求目标：高吞吐率
  - 单批道处理系统特点：`CPU`利用率不高
- 分时系统特点：
  - 及时响应
  - 交互性
  - 多路性
- 原语
- 处理机工作状态：
  - 系统态，管态，核心态，内核态
  - 用户态，目态
- 中断：
  - 中断响应
  - 中断现场

---

## 1 操作系统目标和作用

- 操作系统的目标：方便性，有效性，可托充性，开放性
- 操作系统的作用：
  - 作为用户和计算机硬件系统之间的接口
    - 命令方式，系统调用方式，图标-窗口方式，其他方式
  - 作为计算机系统资源的管理者
    - 四类资源：处理器，存储器，`I/O`设备，信息(数据和程序)
  - 实现了对计算机资源的抽象
- 推动操作系统发展的主要动力
  - 不断提高计算机资源利用率
  - 方便用户(如接口)
  - 器件的不断更新换代
  - 计算机体系结构不断发展
  - 不断提出新的应用需求

---

## 2 操作系统的发展过程

### 2.1 未配置`OS`的计算机系统

- 人工操作方式
  - 用户独占主机
  - `CPU`等待人工操作
- 脱机输入/输出方式
  - 减少了`CPU`的空闲时间
  - 提高了`I/O`速度

### 2.2 有`OS`的计算机系统

- 批处理系统：复杂的科学计算
  - 单道批处理系统
    - 系统资源得不到充分利用
  - 多道批处理系统
    - 多道程序设计：多个作业存放在主存中，使它们同时处于运行状态，这些作业共享处理机时间和外围设备等资源
    - 好处：
      - 提高了`CPU`利用率
      - 提高内存和`I/O`设备利用率
      - 增加系统吞吐量
    - 缺点：
      - 周转时间长
      - 无交互能力
- 分时系统：办公系统
  - 分时技术：将处理机的运行时间分为时间片，将时间片轮流分配给各联机作业使用
    - 用户需求表现：
      - 人机交互，共享主机
    - 特征：
      - 多路性，独立性，即时性，交互性
- 实时系统
  - 指系统能及时(或即时)响应外部事件的请求，在规定的时间内完成对该事件的处理，并控制所有实时任务协调一致地运行
  - 例如：
    - 实时控制系统：工业控制，导弹发射，飞机飞行
    - 实时信息系统：订票系统，股票交易系统
    - 多媒体系统
    - 嵌入式系统
  - 实时任务类型：
    - 执行时是否呈现周期性：工业控制和武器控制的实时系统
      - 周期性实时任务，非周期实时任务
    - 截止时间要求：信息查询系统和多媒体系统
      - 硬实时任务：工业控制和武器控制的系统
      - 软实时任务：股票交易系统
  - 特征：多路性，独立性，即时性，交互性，可靠性

---

## 3 操作系统的基本特性

- 并发：
  - 并行：一个时刻有着多个事件执行
  - 并发：在每一段时间间隔内有多个事件同时进行
  - 进程：程序为静态的，进程为程序的执行
  - 线程：线程是更小的执行单位，一个进程包含多个线程
- 共享：
  - 系统中的资源可供内存中多个并发执行的进程(线程)共同使用
  - 方式：
    - 互斥共享方式
    - 同时访问方式
- 虚拟：
  - 空分复用
    - 虚拟处理器技术
    - 虚拟设备技术
  - 时分复用
    - 虚拟磁盘技术
    - 虚拟存储器技术
- 异步：
  - 进程是以人们不可预知的速度向前推进，此即进程的异步性

---

## 4 操作系统运行环境

- 原语：若干条指令组成，完成一定的功能的过程，原子操作，执行不会中断
- 资源管理功能：
  - 进程管理
  - 存储器管理
  - 设备管理
- 处理机双重工作模式：
  - 用户态：
    - 执行用户程序时为用户态
  - 内核态：
    - 系统调用时，从用户态切换到用户态 或 发生中断，陷阱
    - 只有在内核态时才允许执行特权指令，其他为非特权指令

---

## 5. 中断

- 中断：
  - 按类型分：
    - 强迫性中断
    - 资源中断
- 俘获：由处理机内部事件引起的中断
- 中断响应：是当中央处理机发现已有中断请求时，中止现行程序执行，并自动引出中断处理程序的过程

---

## 6 操作系统主要功能

### 6.1  处理机管理功能

- 进程控制
- 进程同步
- 进程通信
- 调度

### 6.2 存储器管理功能

- 内存分配和回收
- 内存保护
- 地址映射
- 内存扩充

---
