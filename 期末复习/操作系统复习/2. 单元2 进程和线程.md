# 第二章 进程的描述和控制

---

## 1. 程序执行

- 程序执行时的特征
  - 顺序性
  - 封闭性
  - 可再现性
- 程序并发执行的特征
  - 间断性
  - 失去封闭性
  - 不可再现性

---

## 2. 进程的描述

- 进程的定义：
  - 进程是程序的执行过程，是系统进行资源分配和调度的一个独立单位
- 进程的组成：
  - 程序段 + 相关的数据段 + 进程控制块(`PCB`)
  - `PCB`：管理进程的数据结构
- 进程的特征：
  - 动态性
  - 并发性
  - 独立性
  - 异步性
- 进程的状态和转换
  - 就绪状态：刚创建的进程，处于准备好执行的状态   就绪队列
  - 执行状态
  - 阻塞状态：暂停执行，等待每一事件发生，`I/O`事件，图形界面
  - 创建状态：分配`PCB`，填写必要信息，将其转入到就绪队列
  - 终止状态：`OS`善后，`PCB`清空并返还给系统
- `PCB`:
  - 记录`OS`所需的，描述当前进程情况以及管理进程运行状态的全部信息
  - 作用：
    - 作为单独运行基本单位的标准
    - 实现间断性运行方式
    - 提供进程管理所需要的消息
    - 提供进程调度所需要的信息
    - 实现与其他进程的同步与通信
- 进程创建：
  - 事件：用户登录，作业调度，提供服务，应用请求，进程的创建，`OS`调用进程创建原语
  - `OS`调用创建原语
  - 申请空白`PCB` `->` 为新进程分配资源 `->` 初始化进程控制块 `->` 将新进程插入就绪队列
- 进程终止：
  - 事件：正常结束，异常结束，外界干预
  - `OS`调用终止原语
  - 过程：
    - 根据被终止进程的标识符，从 PCB 检索出该进程的 PCB
    - 若被终止进程正处于执行状态，应立即终止该进程的执行， 并置调度标志为真，用于指示该进程被终止后应重新进行调度
    - 终止该进程的所有子孙进程
    - 被终止进程所拥有的全部资源，或者归还给其父进程， 或者归还给系统
    - 将被终止进程(它的PCB)从所在队列(或链表)中移出
- 进程的阻塞和唤醒
  - 事件：
    - 向系统请求共享资源失败
    - 等待某种操作的完成
    - 新数据尚未到达
    - 等待新任务的到达
- 进程通信
  - 进程之间的信息交换
  - 低级通信：仅交换一些状态和少量数据
    - 进程之间的互斥和同步
  - 高级通行：交换大量数据
    - 共享存储器系统
    - 管道通信系统
    - 信息传递系统
    - 客户机与服务器系统

---

## 3. 线程

- 进程的两个基本属性：
  - 进程是一个可拥有资源的独立单位
  - 进程同时又是一个可独立调度和分派的基本单位
- 进程在并发执行时的消耗：
  - 创建进程
  - 销毁进程
  - 进程切换
- 线程：
  - 作为调度和分派的基本单位
- 线程执行的三个状态：
  - 执行状态
  - 就绪状态
  - 阻塞状态
- 线程控制块(`TCP`)：
  - 控制和管理线程信息
- 多线程下的进程属性：
  - 进程是一个可拥有资源的基本单位
  - 多个线程可并发执行
  - 进程已不是可执行的实体
- 线程的实现方式：
  - 内核支持线程
  - 用户级线程
- 进程是资源分配的单位，线程是`CPU`调度的单位

---
