# 解答题

---

## 1. 简述一下`NoSQL`数据库的四种类型

- 键值对存储数据库：数据以键值对的方式来存储，采用哈希函数来实现键到值得映射。主要的键值对数据库有`Redis`，`Tokyo`等，主要应用于会话存储和购物车等场景
- 文档存储数据库：存储和管理文档，常见的文档存储数据库有`MongoDB`等数据库。主要应用于内容管理应用程序和电子商务应用程序
- 列式存储数据库：以列为单位存储数据。常见的列式存储数据库有`HBase`等数据库，主要应用于事件记录，博客网站等场景
- 图形存储数据库：主要应用图形理论来存储实体之间的关系信息。常见的图形存储数据库有`Neo4j`等数据库。主要应用于欺诈检测和推荐应用等场景

---

## 2. 简述一下关系型数据和非关系型数据的区别

- 存储方式：
  - 关系型数据库：表的格式
  - 非关系型数据库：数据集的方式，例如键值对，图结构，文档
- 存储结构：
  - 关系型数据库：结构化的方法存储，提前定义好数据表的结构，根据表结构存储数据
  - 非关系型数据库：动态结构，可改变数据表的结构和数据类型
- 查询方式:
  - 关系型：结构化查询语言(`SQL`)
  - 非关系型：非机构化查询语言(`UnQL`)
- 读写性能：
  - 关系型：强调数据的一致性，降低数据的读写性能
  - 非关系型：能应对海量数据

---

## 3. 简述一下`MongoDB`的优势？

- 易用性：使用文档，没有固定的数据类型和大小，删除和添加更容易，开发者能快速迭代。
- 高性能：提供高性能数据库持久性可以减少数据库系统的`I/O`活动，也可以通过索引支持更快的查询。
- 高可用性：副本组成的集群为副本集，提供了自动故障转移和数据冗余功能。
- 易拓展性：采用水平拓展，可通过分片将数据发布在集群机器。

---

## 4. 请描述一下`MongoDB`的副本集是如何同步数据？

- 副本节点定期轮询主节点获取`oplog`记录的操作内容，然后对自己的数据副本执行这些操作，从而保证副本节点的数据副本与主节点保持一致。

---

## 5. 简述一下分片集群的架构

- 分片集群主要由分片服务器，路由服务器，配置服务器组成。
- 分片服务器是实际存储数据的组件，持有完整数据集的一部分。
- 路由服务器主要提供客户端应用程序与分片集群交互的接口，所有请求都需要通过路由服务器进行协调工作
- 配置服务器存储分片集群的元数据，这些数据不允许丢失。

---

## 6. 简述一下`Redis`的应用场景

- 缓存：由于`Redis`是基于内存读写的，所以访问速度高于硬盘，用户可以将需要高速访问的数据放在`Redis`中提升应用程序的速度。
- 排行榜：使用有序集合可以做到对应用的得分进行排序，即能实现排行榜。
- 计数器应用：`Redis`采用单线程，且线程安全，避免了并发问题，保证了统计结果不会出错。
- 过期数据自动处理：`Redis`对数据可以设置过期时间，过期的数据即时清理，提高了开发效率。
- 实时的反垃圾系统：基于关键字，可以对垃圾关键字进行实时监控。

---

## 7. `Redis`的优势？

- 读写速度快：`Redis`是基于内存读写的，会把数据加载到内存中进行操作或处理，读写数据很快，可以处理数万级别的并发读写操作
- 支持多种数据结构：支持字符串，集合，散列，有序集合等数据结构，每个数据结构都能解决特定的问题
- 功能丰富：提供了许多附加的功能，例如自动过期，事务，数据持久化等功能。`Redis`不仅能单机使用，还能分布在不同机器上使用
- 应用广泛：有很多公司使用到`Redis`

---

## 8. 试述CAP理论的具体含义？

- C：一致性，是指任何一个读操作总是能够读到之前完成的写操作的结果，也就是在分布式环境中，多点的数据是一致的，或者说，所有节点在同一时间具有相同的数据
- A：可用性，是指快速获取数据，可以在确定的时间内返回操作结果，保证每个请求不管成功或者失败都有响应；
- P：分区容忍性，是指当出现网络分区的情况时（即系统中的一部分节点无法和其他节点进行通信），分离的系统也能够正常运行，也就是说，系统中任意信息的丢失或失败不会影响系统的继续运作

---

## 9. `Mongodb`索引的类型

- 单字段索引
- 复合索引
- 多键索引
- 地理空间索引
- 文本索引
- 哈希索引

---
